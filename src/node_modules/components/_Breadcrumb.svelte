<script>
  import { stores } from '@sapper/app';
  import { onMount } from 'svelte';

  const { page } = stores();
  let className = '';

  export let segment;
  export { className as class };

  $: slug = $page.params.slug ? `${$page.params.slug}` : '';
</script>

<div class="breadcrumb text-xs {className}">
  <a href=".">home</a>
  {#if slug}
    <span class="separator">/</span>
    <a rel="prefetch" href={segment}>{segment}</a>
    <span class="separator">/</span>
    <span class="slug">{slug}</span>
  {:else}/ {segment}{/if}
</div>

<style>
  .breadcrumb {
    padding: 10px;
    color: var(--text-grey);
    text-transform: uppercase;
    display: inline-flex;
  }
  .breadcrumb > * {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 65px;
    line-height: 0.8rem;
    display: inline-block;
  }
  .separator {
    margin: 0 5px;
  }
</style>
