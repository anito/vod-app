import { writable } from "svelte/store";

function createStore() {
  const { subscribe, update } = writable({});

  return {
    subscribe,
    update: (val) =>
      update((current) => {
        let cur,
          ret = {};
        for (let item in val) {
          ret[item] = (cur = current[item] || {}) && { ...cur, ...val[item] };
        }
        return ret;
      }),
  };
}
export default createStore();
